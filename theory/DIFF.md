# DIFF

Порівняння змсту двох файлів:
```bash
diff file1 file2
```
або для powershell
```bash
Compare-Object -ReferenceObject (Get-Content file1) -DifferenceObject (Get-Content file2)
```

Однак, це не найзручніша форма виведення. Зазвичай застосовують опцію -u, щоб отримати так званий уніфікований вивід, який використовується у командах патчів:
```bash
diff -u file1 file2
```

Порівнюючи два дерева каталогів, часто використовується така форма:
```bash
$ diff -Nur directory1 directory2
```

де опція `-r` змушує рекурсивний спуск по деревах, а опція `-N` змушує файли,
які було додано або вилучено, з'являтися у відмінності, замість того,
щоб просто генерувати попередження про те, що файл знаходиться лише в одному дереві каталогів.

## DIFF у GIT

Пошук відмінностей можна виконати у Git'і кількома способами. Проста команда:
```bash
git diff
```

показує відмінності між поточною робочою версією вашого проєкту та останнім коммітом.
Наступна форма:
```bash
git diff earlier_commit
```

показує відмінності між поточною робочою версією і попереднім коммітом,
поданим за допомогою earlier_commit. Часто це може бути вказано як назва гілки.

Ще одна форма:
```bash
git diff --cached earlier_commit
```

показує відмінності між поетапними змінами в змісті (індексі) та коммітом.
Якщо ви не вкажете комміт, то за замовчуванням буде вказано HEAD для поточної
ситуації, а виведення покаже вам, чим наступний комміт відрізнятиметься від поточного.
У версіях Git'а від 1.6.1 ви можете писати--staged замість --cached, що буде більш інтуїтивно зрозумілим.

Команда:
```bash
git diff one_commit another_commit
```

показує відмінності між двома коммітами.

Існує багато інших опцій, які контролюють або характер відмінностей, або форму виводу.
Наприклад, ви можете скористатися `--ignore-all-space` для ігнорування відмінностей,
що містять пробіли, або `--stat` чи `--numstat` для створення короткої статистики.

Також можна обмежити область застосування `diff` певною частиною дерева каталогів.
Наприклад, якщо ви перебуваєте в Git-репозиторії ядра Linux, команда: 
```bash
git diff v4.2.1 v4.2.2 Documentation/vm
```

покаже лише зміни у підкаталозі Documentation/vm.

Аналогічно, команда: 
```bash
git diff --stat v4.2.1 v4.2.2 arch/x86_64
```

покаже лише коротку статистику, а не детальні відмінності для змін у дереві підкаталогів arch/x86_64.

Коротке порівняння двох комітів по тегам:
```bash
git diff --stat PET XXX
```

Коротке порівняння двох гілок:
```bash
git diff --stat devel main
```